---
const { user } = Astro.props;
---

<div class="post-container">
  <img src="/bubblePost1.png" id="post__bubble1" />
  <img src="/bubblePost2.png" id="post__bubble2" />

  <div class="user-img"></div>
  <div class="post-text-container">
    <h2>{user}</h2>
    <input placeholder="¿En qué estas pensando?" disabled></input>
    <button class="button-style" id="openModal" onclick="window.dispatchEvent(new Event('open-post-modal'))">Compartir Post</button>
</div>

<style>
  .post-container {
    position: relative;
    box-sizing: border-box;
    width: 90%;
    height: 150px;
    background: #f1edfa;
    box-shadow: 2px 4px 10px #d5c1fa;
    margin: 0 auto;
    --invite-container-width: 90%;
    --invite-container-height: 150px;
    display: flex;
    flex-direction: row;
    padding: 1rem;
    transition: transform 0.2s;
    border-radius: 20px;
    overflow: hidden;
    z-index: 2;

    /* dejar espacio para el "borde" interno */
    z-index: 0;
    background-clip: padding-box; /* importante */
  }

  .post-container::before {
    content: "";
    position: absolute;
    inset: 0; /* ocupa todo el elemento */
    padding: 2px; /* grosor del borde */
    border-radius: inherit; /* respeta el mismo radius */
    background: linear-gradient(
      156.25deg,
      #825d97 0%,
      #ab4afd 50%,
      #482d8a 100%
    );
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    z-index: 0;
  }

  #post__bubble1{
    position: absolute;
    top: -140px;
    right: -75px;
    width: 200px;
    height: 200px;
    opacity: 0.7;
    z-index: -10;
  }
  #post__bubble2{
    position: absolute;
    width: 200px;
    height: 200px;
    opacity: 0.7;
    top: -15px;
    left: -40px;
    z-index: -10;
  }
  .post-text-container{
    display: flex;
    flex-direction: column;
    justify-content: center;
    margin-left: 1rem;
    width: 100%;
    gap: 0.5rem;
  }
  .user-img {
    width: 90px;
    height: 90px;
    max-width: 90px;
    background: #482d8a;
    border-radius: 50%;
    flex-shrink: 0;
  }
  .post-text-container h2{
    margin: 0;
    font-size: 1.25rem;
    color: #000;
    font-weight: 600;
  }
  .post-text-container input{
    width: 100%;
    height: 40px;
    padding: 0 0.5rem;
    font-size: 1rem;
    border-bottom: solid 2px #825d97;
  }

  .button-style {
    width: 100%;
    padding: 0.4rem 0;
    font-weight: 600;
    font-size: 1rem;
    justify-content: center;
    align-items: center;
    background-color: #da9d4f;
    color: #fff;
    text-decoration: none;
    border-radius: 15px;
    border: 1px solid #ccc;
    box-shadow: inset 0 -10px 10px -7px rgba(0, 0, 0, 0.4);
    transition:
      background-color 0.3s,
      color 0.3s;
  }

  .button-style:hover {
    background-color: #c87c2a;
    color: #fff;
  }
</style>
